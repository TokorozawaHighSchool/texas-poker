<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>テキサスポーカー</title>
    <link rel="stylesheet" href="src/styles.css">
    <meta name="description" content="テキサスホールデムのブラウザゲーム。AI対戦、役一覧つき。">
    <meta name="robots" content="index,follow">
</head>

<body>
    <!-- Title Screen -->
    <div id="title-screen" aria-modal="true" role="dialog">
        <div class="title-panel">
            <h1 class="title-logo">テキサスポーカー</h1>
            <fieldset class="mode-select">
                <legend>ゲームモード</legend>
                <label><input type="radio" name="game-mode" value="texas" checked> テキサスホールデム</label>
                <label><input type="radio" name="game-mode" value="draw"> ファイブカードドロー</label>
            </fieldset>
            <button id="start-game-button" class="title-btn primary">ゲーム開始</button>
            <details class="howto">
                <summary>遊び方</summary>
                <div id="howto-content"></div>
                <div style="margin-top:8px">
                    <button id="howto-open" class="title-btn">全画面で見る</button>
                </div>
            </details>
        </div>
    </div>

    <div id="game-container" style="display:none;">
        <h1 id="game-mode-title">テキサスポーカー</h1>
        <div id="table-layout">
            <div id="dealer-anchor" aria-hidden="true"></div>
            <div id="pot">Pot: $0</div>
            <div id="community-cards">
                <h2>コミュニティカード</h2>
                <div id="community-hand"></div>
            </div>
            <div id="hands-row">
                <div id="player-area">
                    <h2>プレイヤーの手札</h2>
                    <div id="player-hand"></div>
                    <div id="player-hand-name" class="hand-name"></div>
                    <div id="player-chips" class="chips">Chips: $1000</div>
                </div>
                <div id="ai-container">
                    <h2>AI プレイヤー</h2>
                    <!-- 単一AI表示用要素（既存 ui.js と互換） -->
                    <div id="ai-hand" class="ai-hand"></div>
                    <div id="ai-chips" class="chips">Chips: $1000</div>
                </div>
            </div>
        </div>
        <!-- <button id="deal-button">カードを配る</button> -->
        <button id="call-button">コール</button>
        <input type="number" id="raise-amount" min="1" value="50" style="width:80px;">
        <button id="raise-button">レイズ</button>
        <button id="fold-button">フォールド</button>
        <!-- Draw mode specific controls (shown only in Draw) -->
        <span id="draw-controls" style="display:none; margin-left:8px;">
            <input id="draw-input" type="text" placeholder="交換: 0,2,4" title="0-4の位置でカンマ区切り (1-5も可)" style="width:120px;" />
            <button id="draw-button" title="選んだカードを交換">ドロー</button>
            <button id="stand-button" title="交換しないで確定">スタンド</button>
        </span>
    <button id="hand-chart-button" style="margin-left:8px;">役表</button>
        <div id="message"></div>
        <button id="retry-button" style="display:none; margin-top:16px;">もう一度プレイ</button>
        <button id="next-round-button" style="display:none; margin-top:12px;">次のラウンドへ移行</button>
    </div>
    <script src="src/js/sound.js"></script>
    <script src="src/js/deck.js"></script>
    <script src="src/js/hand-evaluator.js"></script>
    <script src="src/js/game.js"></script>
    <script src="src/js/ai.js"></script>
    <script src="src/js/draw-game.js"></script>
    <script src="src/js/ui.js"></script>
    <script src="src/js/controllers/texas-controller.js"></script>
    <script src="src/js/controllers/draw-controller.js"></script>
    <script src="src/js/main.js"></script>

    <!-- Hand ranking modal -->
    <!-- Floating layer for coin animations -->
    <div id="coin-layer" aria-hidden="true"></div>
    <!-- HowTo modal (same style as hand chart) -->
    <div id="howto-overlay" aria-hidden="true">
        <div id="howto-modal">
            <div class="hc-header">
                <h3>遊び方</h3>
                <button id="howto-close" aria-label="閉じる">×</button>
            </div>
            <div class="hc-body" id="howto-modal-body"></div>
        </div>
    </div>
    <div id="hand-chart-overlay" aria-hidden="true">
        <div id="hand-chart">
            <div class="hc-header">
                <h3>役の強さ（強い順）</h3>
                <button id="hand-chart-close" aria-label="閉じる">×</button>
            </div>
            <table class="hc-table">
                <thead>
                    <tr>
                        <th>役名</th>
                        <th>説明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ストレートフラッシュ</td>
                        <td>同一スートで連続した5枚</td>
                    </tr>
                    <tr>
                        <td>フォーカード</td>
                        <td>同ランク4枚</td>
                    </tr>
                    <tr>
                        <td>フルハウス</td>
                        <td>スリーカード＋ワンペア</td>
                    </tr>
                    <tr>
                        <td>フラッシュ</td>
                        <td>同一スート5枚</td>
                    </tr>
                    <tr>
                        <td>ストレート</td>
                        <td>連続した5枚（スート無関係）</td>
                    </tr>
                    <tr>
                        <td>スリーカード</td>
                        <td>同ランク3枚</td>
                    </tr>
                    <tr>
                        <td>ツーペア</td>
                        <td>異なるペア2組</td>
                    </tr>
                    <tr>
                        <td>ワンペア</td>
                        <td>同ランク2枚</td>
                    </tr>
                    <tr>
                        <td>ハイカード</td>
                        <td>役なし。最も高いカードで比較</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>

</html>